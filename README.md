# HypeScrollMagic

## Overview

`HypeScrollMagic` is a JavaScript extension designed for integration with [Tumult Hype](https://tumult.com/hype/), enabling developers and designers to create interactive, scroll-based animations and interactions within their Hype projects. Leveraging the power of ScrollMagic, this extension makes it easy to trigger animations as users scroll through a webpage, enhancing the storytelling and user engagement of Hype animations.


Incorporating `HypeScrollMagic` into your Tumult Hype projects unlocks a new realm of interactive storytelling and user engagement through scroll-driven animations. By utilizing this powerful extension, you can create immersive web experiences that captivate your audience. Below are additional paragraphs detailing behaviors and an example for setting up event listeners for custom behaviors generated by the extension.

## Behaviors

`HypeScrollMagic` introduces a suite of behaviors that can be leveraged to create dynamic and engaging web content. These behaviors are triggered based on the user's scroll actions, providing a seamless integration between the user's interaction and the animation response. By defining specific behaviors for scroll events, such as `enter`, and `leave`, you can craft intricate animation sequences that are perfectly synchronized with the scroll position. This level of control allows for the creation of narrative-driven or interactive content that responds intuitively to user input.

### Custom Behaviors and Event Listening

Custom behaviors are at the heart of `HypeScrollMagic`, offering a way to extend the interactivity of your Hype projects beyond predefined animations. When a scroll timeline reaches certain milestones, such as the start or end of an animation, `HypeScrollMagic` can automatically trigger custom behaviors named following a specific convention. These behaviors can then be listened for within Tumult Hype, enabling you to execute additional actions or animations in response.

For example, if you have a timeline named "exampleTimeline", the extension can generate custom behaviors like 
```exampleTimeline Enter Forward``` 
when the scroll enters the timeline boundary moving downwards, or 
```exampleTimeline Leave Reverse``` 
when scrolling out of the timeline boundary upwards. Listening to these custom behaviors within your Hype project allows for sophisticated control over the user experience, enabling actions such as triggering other timelines, changing element properties, or even integrating with external APIs in response to scroll events.

### Advanced Usage Example

For those looking to dive deeper into the capabilities of `HypeScrollMagic`, here is an example demonstrating how to programmatically add a scroll timeline to an element and register an event handler to track the animation's progress:

```javascript
// Add a scroll timeline to an element with custom options
const myAnim = hypeDocument.addScrollTimeline(document.querySelector('.test'), 'exampleTimeline', {
  duration: '50%',
  pin: true,
});

// Register an event handler to track progress
myAnim.on('progress', function(event) {
  // Log progress for debugging purposes
  console.log((event.progress * 100).toFixed(2) + '%');
});
```

In this example, a scroll timeline is added to an element with the class `.test`, using the 'exampleTimeline' as the timeline name within Hype. The animation is set to last for 50% of the scroll distance and will pin the element in place while the timeline plays. An event listener is then registered to the `progress` event, allowing you to track the animation's progress and potentially trigger custom behaviors or other actions based on the scroll position.

By combining the power of `HypeScrollMagic` with Tumult Hype's robust animation and interactivity features, you can create unparalleled web experiences that engage, inform, and entertain your audience.

## Documentation

The documentation for `HypeScrollMagic`, detailing its functions and usage within Tumult Hype projects, is maintained using [JSDoc](https://en.wikipedia.org/wiki/JSDoc) and can be accessed online:

- Documentation URL: [https://doxdox.org/worldoptimizer/HypeScrollMagic](https://doxdox.org/worldoptimizer/HypeScrollMagic)

### Content Delivery Network (CDN)

To seamlessly integrate the latest version of `HypeScrollMagic` into your Hype project, include the following script tag in the head section of your HTML:

```html
<script src="https://cdn.jsdelivr.net/gh/worldoptimizer/HypeScrollMagic/HypeScrollMagic.min.js"></script>
```

For additional security and version control, you may opt to use a version with Subresource Integrity (SRI) or specify a particular release. Detailed instructions and options are available on the JsDelivr CDN page for `HypeScrollMagic`:

- CDN Details: [https://www.jsdelivr.com/package/gh/worldoptimizer/HypeScrollMagic](https://www.jsdelivr.com/package/gh/worldoptimizer/HypeScrollMagic)

Learn more about incorporating the latest extension versions into your Hype projects and how to consolidate multiple extensions into a single file:

- Extension Usage Guide: [https://github.com/worldoptimizer/HypeCookBook/wiki/Including-external-files-and-Hype-extensions](https://github.com/worldoptimizer/HypeCookBook/wiki/Including-external-files-and-Hype-extensions)

## Features

- **Scroll-Driven Animations**: Trigger Hype timelines based on the scroll position, allowing for immersive storytelling and interactive experiences.
- **Dynamic Scene Control**: Automatically manages ScrollMagic scenes and controllers for each Hype scene, ensuring smooth transitions and optimal performance.
- **Symbol Support**: Works with both Hype main timelines and symbol timelines, offering flexibility in animation control.
- **Customizable Options**: Provides a variety of options for scene triggers, including offset, duration, and triggerHook, for precise control over animation timing.
- **Pin Elements**: Supports pinning elements during scroll, holding them fixed during a portion of the scroll sequence.
- **Integration with RulerHelper**: If using `HypeRulerHelper`, markers can be automatically added to visualize start and end points of scroll-driven animations.

## Installation

1. **Download the Script**
   - Clone this repository or download the `HypeScrollMagic.js` file directly.

2. **Include the Script in Your Hype Project**
   - Open your Tumult Hype project.
   - Navigate to the 'Resources' panel.
   - Click the '+' button and select 'Add File...' to include `HypeScrollMagic.js`.

3. **Initialization**
   - The script initializes automatically upon document load. No further action is required.

## Usage

`HypeScrollMagic` enhances Hype documents by allowing scroll position to control timeline animations. After including the script, scroll animations can be configured programmatically or through data attributes.

### Basic Usage
The extension looks for elements with the `data-scroll-timeline` attribute within each scene to automatically create scroll-driven animations. No manual initialization is needed for basic usage.

### Programmatically Adding Timelines
- **Add a Scroll Timeline**: `hypeDocument.addScrollTimeline(element, timelineName, options)` - Programmatically adds a scroll timeline to the specified element with custom options.

### Options
Customize each scroll timeline with options such as `pin`, `offset`, `duration`, `triggerHook`, and `reset`, allowing for fine-tuned control over the animation behavior.

### Advanced Integration
- **RulerHelper Markers**: When used with `HypeRulerHelper`, start and end markers for scroll animations can be automatically added, providing a visual guide during development.

## Compatibility

`HypeScrollMagic` is designed to work seamlessly with Tumult Hype and is compatible with most modern web browsers, ensuring a wide audience can experience the scroll-based animations.

## Contributing

Contributions to `HypeScrollMagic` are encouraged. Feel free to fork the repository, propose enhancements, or submit pull requests. For significant changes or new features, please open an issue first to discuss your ideas.

## License

`HypeScrollMagic` is released under the MIT license, consistent with the open-source spirit of sharing and collaboration in the development community.
