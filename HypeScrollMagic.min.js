/*
 Hype ScrollMagic v1.0.4
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function w(b){return function(){if(!b.timeout){var d=arguments;b.timeout=requestAnimationFrame(function(){b.apply(this,d);b.timeout=null}.bind(this))}}}function x(b,d){for(;d&&d!==document;){var a=b.getSymbolInstanceById(d.id);if(a)return a;d=d.parentNode}return null}function u(b,d,a,c){function l(k,m){var n=m.scrollDirection.charAt(0).toUpperCase()+m.scrollDirection.slice(1).toLowerCase();n=a+" "+k+" "+n;b.triggerCustomBehaviorNamed(n);
f.logBehavior&&console.log(n)}var g=c.horizontal?"_h":"_v",e=b.currentSceneId();g=e+g;h[g]||(h[g]=new ScrollMagic.Controller({vertical:c.horizontal?!1:!0}));a=a||f.timelineName;c=Object.assign({},f.options,c);e=document.getElementById(e);var r=b.getElementProperty(d,"height"),t=d.getBoundingClientRect().top-e.getBoundingClientRect().top;t=void 0!==c.offset?c.offset:t;r=void 0!==c.duration?c.duration:r;var y=void 0!==c.triggerHook?c.triggerHook:.5,v=x(b,d),p=v?v:b;e=new ScrollMagic.Scene({triggerElement:e,
offset:t,duration:r,triggerHook:y});c.pin&&e.setPin(d,{pushFollowers:!1});if(c.reset)e.on("add",function(k){p.pauseTimelineNamed(a);p.goToTimeInTimelineNamed(0,a)});e.on("progress",function(k){var m=p.durationForTimelineNamed(a);0!==m&&p.goToTimeInTimelineNamed(k.progress*m,a)});if(f.behavior.enter)e.on("enter",function(k){l("Enter",k)});if(f.behavior.leave)e.on("leave",function(k){l("Leave",k)});e.addTo(h[g]);e.addIndicator&&(f.addIndicators||c.addIndicators)&&e.addIndicators({name:a,colorStart:c.markerColor,
colorEnd:c.markerColor,colorTrigger:c.markerColor});q.push(e);return e}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=null;ScrollMagic.Scene.prototype.removeIndicators=null;var h={},q=[],f={options:{triggerHook:.5,pin:!1,reset:!0},behavior:{enter:!0,leave:!0},markerColor:"grey",timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,
d,a){b.addScrollTimeline=function(c,l,g){return u(b,c,l,g)};HypeRulerHelper&&window.addEventListener("resize",w(function(){q.forEach(function(c){if(c.onResize)c.onResize()})}))}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(b,d){d.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(a){var c=a.getAttribute("data-scroll-timeline")?a.getAttribute("data-scroll-timeline").split(",").map(function(g){return g.trim()}):["Main Timeline"],l={pin:a.hasAttribute("data-scroll-pin"),
offset:a.getAttribute("data-scroll-offset")?parseInt(a.getAttribute("data-scroll-offset"),10):void 0,duration:a.getAttribute("data-scroll-duration")?parseInt(a.getAttribute("data-scroll-duration"),10):void 0,triggerHook:a.getAttribute("data-scroll-trigger")?parseFloat(a.getAttribute("data-scroll-trigger")):void 0,reset:"false"===a.getAttribute("data-scroll-reset")?!1:!0,horizontal:a.hasAttribute("data-scroll-horizontal"),markerColor:a.getAttribute("data-marker-color")||f.markerColor};c.forEach(function(g){u(b,
a,g,l)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,d){var a=d.id;q.forEach(function(c){c.destroy(!0)});q.length=0;h[a+"_v"]&&(h[a+"_v"].destroy(!0),delete h[a+"_v"]);h[a+"_h"]&&(h[a+"_h"].destroy(!0),delete h[a+"_h"])}});return{version:"1.0.4",setDefault:function(b,d){"object"==typeof b?f=b:f[b]=d},getDefault:function(b){return b?f[b]:f}}}console.error("ScrollMagic is not available.")}());
