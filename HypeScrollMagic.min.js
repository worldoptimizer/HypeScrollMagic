/*
 Hype ScrollMagic v1.0.8
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function y(a,b){for(;b&&b!==document;){const c=a.getSymbolInstanceById(b.id);if(c)return c;b=b.parentNode}return null}function x(a,b,c,d){function n(e,g){var p=g.scrollDirection.charAt(0).toUpperCase()+g.scrollDirection.slice(1).toLowerCase();p=c+" "+e+" "+p;a.triggerCustomBehaviorNamed(p);k.logBehavior&&console.log(p);u&&(e=b.getAttribute("data-scroll-"+e.toLowerCase()+"-action"))&&a.triggerAction(e,{element:b,event:g})}
var h=d.horizontal?"_h":"_v",f=a.currentSceneId();h=f+h;const u=!1!=="HypeActionEvents"in window;l[h]||(l[h]=new ScrollMagic.Controller({vertical:d.horizontal?!1:!0}));d=Object.assign({},k.options,d);f=document.getElementById(f);var m=b.getBoundingClientRect()[d.horizontal?"width":"height"],q=d.horizontal?b.getBoundingClientRect().left-f.getBoundingClientRect().left:b.getBoundingClientRect().top-f.getBoundingClientRect().top;q=void 0!==d.offset?d.offset:q;m=void 0!==d.duration?d.duration:m;let v=
void 0!==d.triggerHook?d.triggerHook:.5;var r=y(a,b);const t=r?r:a;"string"===typeof m&&(m.endsWith("%")||(m=parseInt(m)));"string"===typeof q&&(q=parseInt(q));if(u){r=b.getAttribute("data-scroll-offset-action");const e=b.getAttribute("data-scroll-duration-action"),g=b.getAttribute("data-scroll-trigger-action"),p={offset:q,duration:m,triggerHook:v};r&&(q=a.triggerAction("return "+r,{element:b,scope:p}));e&&(m=a.triggerAction("return "+e,{element:b,scope:p}));g&&(v=a.triggerAction("return "+g,{element:b,
scope:p}))}f=new ScrollMagic.Scene({triggerElement:f,offset:q,duration:m,triggerHook:v});d.pin&&f.setPin(b,{pushFollowers:!1});if(c&&d.reset)f.on("add",function(e){t.pauseTimelineNamed(c);t.goToTimeInTimelineNamed(0,c)});f.on("progress",function(e){if(u){var g=b.getAttribute("data-scroll-progress-action");g&&a.triggerAction(g,Object.assign({element:b,event:e}))}b.hasAttribute("data-scroll-progress-var")&&((g=b.getAttribute("data-scroll-progress-var"))?document.getElementById(a.documentId()).style.setProperty("--"+
g,e.progress):b.style.setProperty("--scroll-progress",e.progress));c&&(g=t.durationForTimelineNamed(c),0!==g&&t.goToTimeInTimelineNamed(e.progress*g,c))});if(k.behavior.enter)f.on("enter",function(e){n("Enter",e)});if(k.behavior.leave)f.on("leave",function(e){n("Leave",e)});f.addTo(l[h]);f.addIndicators&&(k.addIndicators||d.addIndicators)&&f.addIndicators({name:c||"only pin",colorStart:d.indicatorColor,colorEnd:d.indicatorColor,colorTrigger:d.indicatorColor});w.push(f);return f}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=
null;ScrollMagic.Scene.prototype.removeIndicators=null;var l={},w=[],k={options:{triggerHook:.5,pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,b,c){a.addScrollTimeline=function(d,n,h){return x(a,d,n,h)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,
b){b.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(c){const d=c.hasAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline").split(",").map(h=>h.trim()):[k.timelineName]:[null],n={pin:c.hasAttribute("data-scroll-pin"),offset:c.getAttribute("data-scroll-offset")?c.getAttribute("data-scroll-offset"):void 0,duration:c.getAttribute("data-scroll-duration")?c.getAttribute("data-scroll-duration"):void 0,triggerHook:c.getAttribute("data-scroll-trigger")?
parseFloat(c.getAttribute("data-scroll-trigger")):void 0,reset:"false"===c.getAttribute("data-scroll-reset")?!1:!0,horizontal:c.hasAttribute("data-scroll-horizontal")};c.getAttribute("data-indicator-color")&&(n.indicatorColor=c.getAttribute("data-indicator-color"));c.hasAttribute("data-indicator-force")&&(n.addIndicators=!0);d.forEach(h=>{x(a,c,h,n)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(a,b){a=b.id;w.forEach(function(c){c.destroy(!0)});w.length=0;l[a+"_v"]&&
(l[a+"_v"].destroy(!0),delete l[a+"_v"]);l[a+"_h"]&&(l[a+"_h"].destroy(!0),delete l[a+"_h"])}});return{version:"1.0.8",setDefault:function(a,b){"object"==typeof a?k=a:k[a]=b},getDefault:function(a){return a?k[a]:k}}}console.error("ScrollMagic is not available.")}());
