/*
 Hype ScrollMagic v1.0.8
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function y(a,b){for(;b&&b!==document;){const c=a.getSymbolInstanceById(b.id);if(c)return c;b=b.parentNode}return null}function r(a,b,c,d){function m(f,g){var n=g.scrollDirection.charAt(0).toUpperCase()+g.scrollDirection.slice(1).toLowerCase();n=c+" "+f+" "+n;a.triggerCustomBehaviorNamed(n);k.logBehavior&&console.log(n);t&&(f=b.getAttribute("data-scroll-"+f.toLowerCase()+"-action"))&&a.triggerAction(f,Object.assign({element:b,
event:g}))}var h=d.horizontal?"_h":"_v",e=a.currentSceneId();h=e+h;const t=!1!=="HypeActionEvents"in window;l[h]||(l[h]=new ScrollMagic.Controller({vertical:d.horizontal?!1:!0}));d=Object.assign({},k.options,d);e=document.getElementById(e);const u=b.getBoundingClientRect()[d.horizontal?"width":"height"],v=d.horizontal?b.getBoundingClientRect().left-e.getBoundingClientRect().left:b.getBoundingClientRect().top-e.getBoundingClientRect().top,z=void 0!==d.offset?d.offset:v,A=void 0!==d.duration?d.duration:
u,B=void 0!==d.triggerHook?d.triggerHook:.5,w=y(a,b),p=w?w:a;e=new ScrollMagic.Scene({triggerElement:e,offset:x(z,v),duration:x(A,u),triggerHook:B});d.pin&&e.setPin(b,{pushFollowers:!1});if(c&&d.reset)e.on("add",function(f){p.pauseTimelineNamed(c);p.goToTimeInTimelineNamed(0,c)});e.on("progress",function(f){if(t){var g=b.getAttribute("data-scroll-progress-action");g&&a.triggerAction(g,Object.assign({element:b,event:f}))}b.hasAttribute("data-scroll-progress-var")&&((g=b.getAttribute("data-scroll-progress-var"))?
document.getElementById(a.documentId()).style.setProperty("--"+g,f.progress):b.style.setProperty("--scroll-progress",f.progress));c&&(g=p.durationForTimelineNamed(c),0!==g&&p.goToTimeInTimelineNamed(f.progress*g,c))});if(k.behavior.enter)e.on("enter",function(f){m("Enter",f)});if(k.behavior.leave)e.on("leave",function(f){m("Leave",f)});e.addTo(l[h]);e.addIndicators&&(k.addIndicators||d.addIndicators)&&e.addIndicators({name:c||"only pin",colorStart:d.indicatorColor,colorEnd:d.indicatorColor,colorTrigger:d.indicatorColor});
q.push(e);return e}function x(a,b){if("string"===typeof a){a=a.trim();if(a.startsWith("+="))return b+parseFloat(a.substring(2));if(a.startsWith("-="))return b-parseFloat(a.substring(2));if(a.startsWith("*="))return b*parseFloat(a.substring(2));if(a.startsWith("/="))return b/parseFloat(a.substring(2));if(a.startsWith("%="))return b*parseFloat(a.substring(2))/100;if(a.endsWith("%"))return a}return parseFloat(a)}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=null;ScrollMagic.Scene.prototype.removeIndicators=
null;var l={},q=[],k={options:{triggerHook:.5,pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,b,c){a.addScrollTimeline=function(d,m,h){return r(a,d,m,h)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,b){b.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(c){const d=
c.hasAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline").split(",").map(h=>h.trim()):[k.timelineName]:[null],m={pin:c.hasAttribute("data-scroll-pin"),offset:c.getAttribute("data-scroll-offset")?c.getAttribute("data-scroll-offset"):void 0,duration:c.getAttribute("data-scroll-duration")?c.getAttribute("data-scroll-duration"):void 0,triggerHook:c.getAttribute("data-scroll-trigger")?parseFloat(c.getAttribute("data-scroll-trigger")):void 0,reset:"false"===
c.getAttribute("data-scroll-reset")?!1:!0,horizontal:c.hasAttribute("data-scroll-horizontal")};c.getAttribute("data-indicator-color")&&(m.indicatorColor=c.getAttribute("data-indicator-color"));c.hasAttribute("data-indicator-force")&&(m.addIndicators=!0);d.forEach(h=>{r(a,c,h,m)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(a,b){a=b.id;q.forEach(function(c){c.destroy(!0)});q.length=0;l[a+"_v"]&&(l[a+"_v"].destroy(!0),delete l[a+"_v"]);l[a+"_h"]&&(l[a+"_h"].destroy(!0),
delete l[a+"_h"])}});return{version:"1.0.8",setDefault:function(a,b){"object"==typeof a?k=a:k[a]=b},getDefault:function(a){return a?k[a]:k}}}console.error("ScrollMagic is not available.")}());
