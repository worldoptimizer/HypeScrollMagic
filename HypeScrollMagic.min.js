/*
 Hype ScrollMagic v1.0.8
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function y(b,a){for(;a&&a!==document;){const c=b.getSymbolInstanceById(a.id);if(c)return c;a=a.parentNode}return null}function x(b,a,c,d){function q(e,f){var k=f.scrollDirection.charAt(0).toUpperCase()+f.scrollDirection.slice(1).toLowerCase();k=c+" "+e+" "+k;b.triggerCustomBehaviorNamed(k);n.logBehavior&&console.log(k);v&&(e=a.getAttribute("data-scroll-"+e.toLowerCase()+"-action"))&&b.triggerAction(e,{element:a,event:f})}
var l=d.horizontal?"_h":"_v",h=b.currentSceneId();l=h+l;const v=!1!=="HypeActionEvents"in window;p[l]||(p[l]=new ScrollMagic.Controller({vertical:d.horizontal?!1:!0}));d=Object.assign({},n.options,d);var g=document.getElementById(h),m=a.getBoundingClientRect()[d.horizontal?"width":"height"];h=d.horizontal?a.getBoundingClientRect().left-g.getBoundingClientRect().left:a.getBoundingClientRect().top-g.getBoundingClientRect().top;h=void 0!==d.offset?d.offset:h;m=void 0!==d.duration?d.duration:m;var t=
void 0!==d.triggerHook?d.triggerHook:.5,r=y(b,a);const u=r?r:b;"string"===typeof m&&(m.endsWith("%")||(m=parseInt(m)));"string"===typeof h&&(h=parseInt(h));if(v){r=a.getAttribute("data-scroll-offset-action");const e=a.getAttribute("data-scroll-duration-action"),f=a.getAttribute("data-scroll-trigger-action"),k={offset:h,duration:m,triggerHook:t};r&&(h=b.triggerAction("return "+r,{element:a,scope:k,event:Object.assign(k,{type:"offset"})}));e&&(m=b.triggerAction("return "+e,{element:a,scope:k,event:Object.assign(k,
{type:"duration"})}));f&&(t=b.triggerAction("return "+f,{element:a,scope:k,event:Object.assign(k,{type:"triggerHook"})}))}g=new ScrollMagic.Scene({triggerElement:g,offset:h,duration:m,triggerHook:t});a.hasAttribute("data-scroll-properties")&&((t=a.getAttribute("data-scroll-properties"))?(r=document.getElementById(b.documentId()),r.style.setProperty("--"+t+"-duration",m),r.style.setProperty("--"+t+"-offset",h)):(a.style.setProperty("--scroll-duration",m),a.style.setProperty("--scroll-offset",h)));
d.pin&&g.setPin(a,{pushFollowers:!1});if(c&&d.reset)g.on("add",function(e){u.pauseTimelineNamed(c);u.goToTimeInTimelineNamed(0,c)});g.on("progress",function(e){if(v){var f=a.getAttribute("data-scroll-progress-action");f&&b.triggerAction(f,Object.assign({element:a,event:e}))}a.hasAttribute("data-scroll-properties")&&((f=a.getAttribute("data-scroll-properties"))?document.getElementById(b.documentId()).style.setProperty("--"+f+"-progress",e.progress):a.style.setProperty("--scroll-progress",e.progress));
c&&(f=u.durationForTimelineNamed(c),0!==f&&u.goToTimeInTimelineNamed(e.progress*f,c))});if(n.behavior.enter)g.on("enter",function(e){q("Enter",e)});if(n.behavior.leave)g.on("leave",function(e){q("Leave",e)});g.addTo(p[l]);g.addIndicators&&(n.addIndicators||d.addIndicators)&&g.addIndicators({name:c||"only pin",colorStart:d.indicatorColor,colorEnd:d.indicatorColor,colorTrigger:d.indicatorColor});w.push(g);return g}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=null;ScrollMagic.Scene.prototype.removeIndicators=
null;var p={},w=[],n={options:{triggerHook:.5,pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,a,c){b.addScrollTimeline=function(d,q,l){return x(b,d,q,l)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(b,a){a.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(c){const d=
c.hasAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline").split(",").map(l=>l.trim()):[n.timelineName]:[null],q={pin:c.hasAttribute("data-scroll-pin"),offset:c.getAttribute("data-scroll-offset")?c.getAttribute("data-scroll-offset"):void 0,duration:c.getAttribute("data-scroll-duration")?c.getAttribute("data-scroll-duration"):void 0,triggerHook:c.getAttribute("data-scroll-trigger")?parseFloat(c.getAttribute("data-scroll-trigger")):void 0,reset:"false"===
c.getAttribute("data-scroll-reset")?!1:!0,horizontal:c.hasAttribute("data-scroll-horizontal")};c.getAttribute("data-indicator-color")&&(q.indicatorColor=c.getAttribute("data-indicator-color"));c.hasAttribute("data-indicator-force")&&(q.addIndicators=!0);d.forEach(l=>{x(b,c,l,q)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,a){b=a.id;w.forEach(function(c){c.destroy(!0)});w.length=0;p[b+"_v"]&&(p[b+"_v"].destroy(!0),delete p[b+"_v"]);p[b+"_h"]&&(p[b+"_h"].destroy(!0),
delete p[b+"_h"])}});return{version:"1.0.8",setDefault:function(b,a){"object"==typeof b?n=b:n[b]=a},getDefault:function(b){return b?n[b]:n}}}console.error("ScrollMagic is not available.")}());
