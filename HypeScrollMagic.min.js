/*
 Hype ScrollMagic v1.0.8
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function y(b,a){for(;a&&a!==document;){const c=b.getSymbolInstanceById(a.id);if(c)return c;a=a.parentNode}return null}function x(b,a,c,d){function p(e,f){var q=f.scrollDirection.charAt(0).toUpperCase()+f.scrollDirection.slice(1).toLowerCase();q=c+" "+e+" "+q;b.triggerCustomBehaviorNamed(q);m.logBehavior&&console.log(q);v&&(e=a.getAttribute("data-scroll-"+e.toLowerCase()+"-action"))&&b.triggerAction(e,{element:a,event:f})}
var k=d.horizontal?"_h":"_v",h=b.currentSceneId();k=h+k;const v=!1!=="HypeActionEvents"in window;n[k]||(n[k]=new ScrollMagic.Controller({vertical:d.horizontal?!1:!0}));d=Object.assign({},m.options,d);var g=document.getElementById(h),l=a.getBoundingClientRect()[d.horizontal?"width":"height"];h=d.horizontal?a.getBoundingClientRect().left-g.getBoundingClientRect().left:a.getBoundingClientRect().top-g.getBoundingClientRect().top;h=void 0!==d.offset?d.offset:h;l=void 0!==d.duration?d.duration:l;var t=
void 0!==d.triggerHook?d.triggerHook:.5,r=y(b,a);const u=r?r:b;"string"===typeof l&&(l.endsWith("%")||(l=parseInt(l)));"string"===typeof h&&(h=parseInt(h));if(v){r=a.getAttribute("data-scroll-offset-action");const e=a.getAttribute("data-scroll-duration-action"),f=a.getAttribute("data-scroll-trigger-action"),q={offset:h,duration:l,triggerHook:t};r&&(h=b.triggerAction("return "+r,{element:a,scope:q}));e&&(l=b.triggerAction("return "+e,{element:a,scope:q}));f&&(t=b.triggerAction("return "+f,{element:a,
scope:q}))}g=new ScrollMagic.Scene({triggerElement:g,offset:h,duration:l,triggerHook:t});a.hasAttribute("data-scroll-properties")&&((t=a.getAttribute("data-scroll-properties"))?(r=document.getElementById(b.documentId()),r.style.setProperty("--"+t+"-duration",l),r.style.setProperty("--"+t+"-offset",h)):(a.style.setProperty("--scroll-duration",l),a.style.setProperty("--scroll-offset",h)));d.pin&&g.setPin(a,{pushFollowers:!1});if(c&&d.reset)g.on("add",function(e){u.pauseTimelineNamed(c);u.goToTimeInTimelineNamed(0,
c)});g.on("progress",function(e){if(v){var f=a.getAttribute("data-scroll-progress-action");f&&b.triggerAction(f,Object.assign({element:a,event:e}))}a.hasAttribute("data-scroll-properties")&&((f=a.getAttribute("data-scroll-properties"))?document.getElementById(b.documentId()).style.setProperty("--"+f+"-progress",e.progress):a.style.setProperty("--scroll-progress",e.progress));c&&(f=u.durationForTimelineNamed(c),0!==f&&u.goToTimeInTimelineNamed(e.progress*f,c))});if(m.behavior.enter)g.on("enter",function(e){p("Enter",
e)});if(m.behavior.leave)g.on("leave",function(e){p("Leave",e)});g.addTo(n[k]);g.addIndicators&&(m.addIndicators||d.addIndicators)&&g.addIndicators({name:c||"only pin",colorStart:d.indicatorColor,colorEnd:d.indicatorColor,colorTrigger:d.indicatorColor});w.push(g);return g}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=null;ScrollMagic.Scene.prototype.removeIndicators=null;var n={},w=[],m={options:{triggerHook:.5,pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},
timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,a,c){b.addScrollTimeline=function(d,p,k){return x(b,d,p,k)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(b,a){a.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(c){const d=c.hasAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline")?
c.getAttribute("data-scroll-timeline").split(",").map(k=>k.trim()):[m.timelineName]:[null],p={pin:c.hasAttribute("data-scroll-pin"),offset:c.getAttribute("data-scroll-offset")?c.getAttribute("data-scroll-offset"):void 0,duration:c.getAttribute("data-scroll-duration")?c.getAttribute("data-scroll-duration"):void 0,triggerHook:c.getAttribute("data-scroll-trigger")?parseFloat(c.getAttribute("data-scroll-trigger")):void 0,reset:"false"===c.getAttribute("data-scroll-reset")?!1:!0,horizontal:c.hasAttribute("data-scroll-horizontal")};
c.getAttribute("data-indicator-color")&&(p.indicatorColor=c.getAttribute("data-indicator-color"));c.hasAttribute("data-indicator-force")&&(p.addIndicators=!0);d.forEach(k=>{x(b,c,k,p)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,a){b=a.id;w.forEach(function(c){c.destroy(!0)});w.length=0;n[b+"_v"]&&(n[b+"_v"].destroy(!0),delete n[b+"_v"]);n[b+"_h"]&&(n[b+"_h"].destroy(!0),delete n[b+"_h"])}});return{version:"1.0.8",setDefault:function(b,a){"object"==typeof b?m=
b:m[b]=a},getDefault:function(b){return b?m[b]:m}}}console.error("ScrollMagic is not available.")}());
