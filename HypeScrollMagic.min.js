/*
 Hype ScrollMagic v1.1.0
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function z(b){return b?m[b]:m}function C(b,c){for(;c&&c!==document;){const e=b.getSymbolInstanceById(c.id);if(e)return e;c=c.parentNode}return null}function A(b,c,e,a){function t(f,h){var u=h.scrollDirection.charAt(0).toUpperCase()+h.scrollDirection.slice(1).toLowerCase();u=e+" "+f+" "+u;b.triggerCustomBehaviorNamed(u);m.logBehavior&&console.log(u);n&&(u=a.scrollCode,(f=a[f.toLowerCase()+"Code"]||u)&&b.triggerAction(f,
{element:c,event:h}))}const d=b.currentSceneId(),n=!1!=="HypeActionEvents"in window,B=new ScrollMagic.Controller({vertical:a.horizontal?!1:!0});v[d]||(v[d]=[]);v[d].push(B);a=Object.assign({},m.options,a);var g=document.getElementById(d),k=c.getBoundingClientRect()[a.horizontal?"width":"height"],p=a.horizontal?c.getBoundingClientRect().left-g.getBoundingClientRect().left:c.getBoundingClientRect().top-g.getBoundingClientRect().top;let q=void 0!==a.offset?a.offset:p,l=void 0!==a.duration?a.duration:
k,w=void 0!==a.triggerHook?a.triggerHook:.5;var r=C(b,c);const y=r?r:b;"string"===typeof l&&(l=l.endsWith(a.horizontal?"vw":"vh")?parseInt(l)+"%":l.endsWith("%")?parseFloat(l)/100*k:parseFloat(l));"string"===typeof q&&(q=q.endsWith("%")?parseFloat(q)/100*k+p:parseFloat(q));if(n){r=a.scrollCode;k=a.offsetCode||r;p=a.durationCode||r;r=a.triggerHookCode||r;const f={offset:q,duration:l,triggerHook:w};k&&(q=b.triggerAction("return "+k,{element:c,scope:f,event:Object.assign(f,{type:"offset"})})??q);p&&
(l=b.triggerAction("return "+p,{element:c,scope:f,event:Object.assign(f,{type:"duration"})})??l);r&&(w=b.triggerAction("return "+r,{element:c,scope:f,event:Object.assign(f,{type:"triggerHook"})})??w)}g=new ScrollMagic.Scene({triggerElement:g,offset:q,duration:l,triggerHook:w});a.hasOwnProperty("properties")&&(k="string"===typeof a.properties?a.properties||"scroll":"scroll",p="scroll"===k?c:document.getElementById(b.documentId()),p.style.setProperty("--"+k+"-duration",l),p.style.setProperty("--"+k+
"-offset",q),p.style.setProperty("--"+k+"-trigger-hook",w),p.style.setProperty("--"+k+"-progress",0));a.pin&&g.setPin(c,{pushFollowers:!1});if(e&&a.reset)g.on("add",function(f){y.pauseTimelineNamed(e);y.goToTimeInTimelineNamed(0,e)});g.on("progress",function(f){if(n){var h=a.scrollCode;(h=a.progressCode||h)&&b.triggerAction(h,Object.assign({element:c,event:f}))}a.hasOwnProperty("properties")&&(h="string"===typeof a.properties?a.properties||"scroll":"scroll",("scroll"===h?c:document.getElementById(b.documentId())).style.setProperty("--"+
h+"-progress",f.progress));e&&(h=y.durationForTimelineNamed(e),0!==h&&y.goToTimeInTimelineNamed(f.progress*h,e))});if(m.behavior.enter)g.on("enter",function(f){t("Enter",f)});if(m.behavior.leave)g.on("leave",function(f){t("Leave",f)});g.addTo(B);g.addIndicators&&(m.addIndicators||a.addIndicators)&&g.addIndicators({name:e||"only pin",colorStart:a.indicatorColor,colorEnd:a.indicatorColor,colorTrigger:a.indicatorColor});x[d]||(x[d]=[]);x[d].push(g);return g}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=
null;ScrollMagic.Scene.prototype.removeIndicators=null;var v={},x={},m={options:{triggerHook:.5,pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0,autoProperties:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,c,e){b.addScrollTimeline=function(a,t,d){return A(b,a,t,d)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",
callback:function(b,c){const e=!1!=="HypeActionEvents"in window;c.querySelectorAll("[data-scroll-timeline],[data-scroll-pin],[data-scroll-properties]"+(e?",[data-scroll-action],[data-scroll-progress-action],[data-scroll-enter-action],[data-scroll-leave-action]":"")).forEach(function(a){const t=a.hasAttribute("data-scroll-timeline")?a.getAttribute("data-scroll-timeline")?a.getAttribute("data-scroll-timeline").split(",").map(n=>n.trim()):[m.timelineName]:[null],d={pin:a.hasAttribute("data-scroll-pin"),
offset:a.getAttribute("data-scroll-offset")?a.getAttribute("data-scroll-offset"):void 0,duration:a.getAttribute("data-scroll-duration")?a.getAttribute("data-scroll-duration"):void 0,triggerHook:a.getAttribute("data-scroll-trigger")?parseFloat(a.getAttribute("data-scroll-trigger")):void 0,reset:"false"===a.getAttribute("data-scroll-reset")?!1:!0,horizontal:a.hasAttribute("data-scroll-horizontal")};e&&(a.hasAttribute("data-scroll-action")&&(d.scrollCode=a.getAttribute("data-scroll-action")),a.hasAttribute("data-scroll-offset-action")&&
(d.offsetCode=a.getAttribute("data-scroll-offset-action")),a.hasAttribute("data-scroll-duration-action")&&(d.durationCode=a.getAttribute("data-scroll-duration-action")),a.hasAttribute("data-scroll-trigger-action")&&(d.triggerHookCode=a.getAttribute("data-scroll-trigger-action")),a.hasAttribute("data-scroll-progress-action")&&(d.progressCode=a.getAttribute("data-scroll-progress-action")),a.hasAttribute("data-scroll-enter-action")&&(d.enterCode=a.getAttribute("data-scroll-enter-action")),a.hasAttribute("data-scroll-leave-action")&&
(d.leaveCode=a.getAttribute("data-scroll-leave-action")));if(a.hasAttribute("data-scroll-properties")){const n=a.getAttribute("data-scroll-properties");z("autoProperties")&&"false"==n||(d.properties=n)}else z("autoProperties")&&(d.properties=!0);a.getAttribute("data-indicator-color")&&(d.indicatorColor=a.getAttribute("data-indicator-color"));a.hasAttribute("data-indicator-force")&&(d.addIndicators=!0);t.forEach(n=>{A(b,a,n,d)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,
c){b=c.id;x[b].forEach(e=>{e&&e.destroy(!0)});x[b]=[];v[b].forEach(e=>{e&&e.destroy(!0)});v[b]=[]}});return{version:"1.1.0",setDefault:function(b,c){"object"==typeof b?m=b:m[b]=c},getDefault:z}}console.error("ScrollMagic is not available.")}());
