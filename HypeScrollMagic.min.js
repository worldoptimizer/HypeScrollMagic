/*
 Hype ScrollMagic v1.0.8
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function w(a,c){for(;c&&c!==document;){const b=a.getSymbolInstanceById(c.id);if(b)return b;c=c.parentNode}return null}function q(a,c,b,d){function l(f,m){m=m.scrollDirection.charAt(0).toUpperCase()+m.scrollDirection.slice(1).toLowerCase();f=b+" "+f+" "+m;a.triggerCustomBehaviorNamed(f);h.logBehavior&&console.log(f)}var g=d.horizontal?"_h":"_v",e=a.currentSceneId();g=e+g;k[g]||(k[g]=new ScrollMagic.Controller({vertical:d.horizontal?
!1:!0}));b=b||h.timelineName;d=Object.assign({},h.options,d);e=document.getElementById(e);const r=c.getBoundingClientRect()[d.horizontal?"width":"height"],t=d.horizontal?c.getBoundingClientRect().left-e.getBoundingClientRect().left:c.getBoundingClientRect().top-e.getBoundingClientRect().top,x=void 0!==d.offset?d.offset:t,y=void 0!==d.duration?d.duration:r,z=void 0!==d.triggerHook?d.triggerHook:.5,u=w(a,c),n=u?u:a;e=new ScrollMagic.Scene({triggerElement:e,offset:v(x,t),duration:v(y,r),triggerHook:z});
d.pin&&e.setPin(c,{pushFollowers:!1});if(d.reset)e.on("add",function(f){n.pauseTimelineNamed(b);n.goToTimeInTimelineNamed(0,b)});e.on("progress",function(f){const m=n.durationForTimelineNamed(b);0!==m&&n.goToTimeInTimelineNamed(f.progress*m,b)});if(h.behavior.enter)e.on("enter",function(f){l("Enter",f)});if(h.behavior.leave)e.on("leave",function(f){l("Leave",f)});e.addTo(k[g]);e.addIndicators&&(h.addIndicators||d.addIndicators)&&e.addIndicators({name:b,colorStart:d.indicatorColor,colorEnd:d.indicatorColor,
colorTrigger:d.indicatorColor});p.push(e);return e}function v(a,c){if("string"===typeof a){a=a.trim();if(a.startsWith("+"))return c+parseFloat(a.substring(1));if(a.startsWith("-"))return c-parseFloat(a.substring(1));if(a.startsWith("*"))return c*parseFloat(a.substring(1));if(a.endsWith("%"))return parseFloat(a.slice(0,-1))*c/100}return parseFloat(a)}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=null;ScrollMagic.Scene.prototype.removeIndicators=null;var k={},p=[],h={options:{triggerHook:.5,
pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,c,b){a.addScrollTimeline=function(d,l,g){return q(a,d,l,g)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,c){c.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(b){const d=
b.getAttribute("data-scroll-timeline")?b.getAttribute("data-scroll-timeline").split(",").map(g=>g.trim()):["Main Timeline"],l={pin:b.hasAttribute("data-scroll-pin"),offset:b.getAttribute("data-scroll-offset")?b.getAttribute("data-scroll-offset"):void 0,duration:b.getAttribute("data-scroll-duration")?b.getAttribute("data-scroll-duration"):void 0,triggerHook:b.getAttribute("data-scroll-trigger")?parseFloat(b.getAttribute("data-scroll-trigger")):void 0,reset:"false"===b.getAttribute("data-scroll-reset")?
!1:!0,horizontal:b.hasAttribute("data-scroll-horizontal")};b.getAttribute("data-indicator-color")&&(l.indicatorColor=b.getAttribute("data-indicator-color"));b.hasAttribute("data-indicator-force")&&(l.addIndicators=!0);d.forEach(g=>{q(a,b,g,l)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(a,c){a=c.id;p.forEach(function(b){b.destroy(!0)});p.length=0;k[a+"_v"]&&(k[a+"_v"].destroy(!0),delete k[a+"_v"]);k[a+"_h"]&&(k[a+"_h"].destroy(!0),delete k[a+"_h"])}});return{version:"1.0.8",
setDefault:function(a,c){"object"==typeof a?h=a:h[a]=c},getDefault:function(a){return a?h[a]:h}}}console.error("ScrollMagic is not available.")}());
