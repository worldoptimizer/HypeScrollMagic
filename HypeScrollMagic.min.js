/*
 Hype ScrollMagic v1.0.9
 Integrates ScrollMagic with Tumult Hype for scroll-based animations and interactions.
 Copyright (2024) Max Ziebell, (https://maxziebell.de). MIT-license
*/
'use strict';!1==="HypeScrollMagic"in window&&(window.HypeScrollMagic=function(){function A(b,a){for(;a&&a!==document;){const c=b.getSymbolInstanceById(a.id);if(c)return c;a=a.parentNode}return null}function z(b,a,c,d){function q(e,h){var u=h.scrollDirection.charAt(0).toUpperCase()+h.scrollDirection.slice(1).toLowerCase();u=c+" "+e+" "+u;b.triggerCustomBehaviorNamed(u);n.logBehavior&&console.log(u);x&&(u=a.getAttribute("data-scroll-action"),(e=a.getAttribute("data-scroll-"+e.toLowerCase()+"-action")||
u)&&b.triggerAction(e,{element:a,event:h}))}var l=d.horizontal?"_h":"_v",f=b.currentSceneId();l=f+l;const x=!1!=="HypeActionEvents"in window;p[l]||(p[l]=new ScrollMagic.Controller({vertical:d.horizontal?!1:!0}));d=Object.assign({},n.options,d);var g=document.getElementById(f),r=a.getBoundingClientRect()[d.horizontal?"width":"height"],v=d.horizontal?a.getBoundingClientRect().left-g.getBoundingClientRect().left:a.getBoundingClientRect().top-g.getBoundingClientRect().top;f=void 0!==d.offset?d.offset:
v;let k=void 0!==d.duration?d.duration:r;var t=void 0!==d.triggerHook?d.triggerHook:.5,m=A(b,a);const w=m?m:b;"string"===typeof k&&(k.endsWith("%")?(m=d.horizontal?window.innerWidth:window.innerHeight,k=parseFloat(k)/100*m):k=parseInt(k));"string"===typeof f&&(f=f.endsWith("%")?parseFloat(f)/100*r+v:parseInt(f));if(x){m=a.getAttribute("data-scroll-action");r=a.getAttribute("data-scroll-offset-action")||m;v=a.getAttribute("data-scroll-duration-action")||m;m=a.getAttribute("data-scroll-trigger-action")||
m;const e={offset:f,duration:k,triggerHook:t};r&&(f=b.triggerAction("return "+r,{element:a,scope:e,event:Object.assign(e,{type:"offset"})})??f);v&&(k=b.triggerAction("return "+v,{element:a,scope:e,event:Object.assign(e,{type:"duration"})})??k);m&&(t=b.triggerAction("return "+m,{element:a,scope:e,event:Object.assign(e,{type:"triggerHook"})})??t)}g=new ScrollMagic.Scene({triggerElement:g,offset:f,duration:k,triggerHook:t});a.hasAttribute("data-scroll-properties")&&((t=a.getAttribute("data-scroll-properties"))?
(r=document.getElementById(b.documentId()),r.style.setProperty("--"+t+"-duration",k),r.style.setProperty("--"+t+"-offset",f)):(a.style.setProperty("--scroll-duration",k),a.style.setProperty("--scroll-offset",f)));d.pin&&g.setPin(a,{pushFollowers:!1});if(c&&d.reset)g.on("add",function(e){w.pauseTimelineNamed(c);w.goToTimeInTimelineNamed(0,c)});g.on("progress",function(e){if(x){var h=a.getAttribute("data-scroll-action");(h=a.getAttribute("data-scroll-progress-action")||h)&&b.triggerAction(h,Object.assign({element:a,
event:e}))}a.hasAttribute("data-scroll-properties")&&((h=a.getAttribute("data-scroll-properties"))?document.getElementById(b.documentId()).style.setProperty("--"+h+"-progress",e.progress):a.style.setProperty("--scroll-progress",e.progress));c&&(h=w.durationForTimelineNamed(c),0!==h&&w.goToTimeInTimelineNamed(e.progress*h,c))});if(n.behavior.enter)g.on("enter",function(e){q("Enter",e)});if(n.behavior.leave)g.on("leave",function(e){q("Leave",e)});g.addTo(p[l]);g.addIndicators&&(n.addIndicators||d.addIndicators)&&
g.addIndicators({name:c||"only pin",colorStart:d.indicatorColor,colorEnd:d.indicatorColor,colorTrigger:d.indicatorColor});y.push(g);return g}if(window.ScrollMagic){ScrollMagic.Scene.prototype.addIndicators=null;ScrollMagic.Scene.prototype.removeIndicators=null;var p={},y=[],n={options:{triggerHook:.5,pin:!1,reset:!0,indicatorColor:"grey"},behavior:{enter:!0,leave:!0},timelineName:"Main Timeline",logBehavior:!1,addIndicators:!0};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);
window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(b,a,c){b.addScrollTimeline=function(d,q,l){return z(b,d,q,l)}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(b,a){a.querySelectorAll("[data-scroll-timeline],[data-scroll-pin]").forEach(function(c){const d=c.hasAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline")?c.getAttribute("data-scroll-timeline").split(",").map(l=>l.trim()):[n.timelineName]:[null],q={pin:c.hasAttribute("data-scroll-pin"),
offset:c.getAttribute("data-scroll-offset")?c.getAttribute("data-scroll-offset"):void 0,duration:c.getAttribute("data-scroll-duration")?c.getAttribute("data-scroll-duration"):void 0,triggerHook:c.getAttribute("data-scroll-trigger")?parseFloat(c.getAttribute("data-scroll-trigger")):void 0,reset:"false"===c.getAttribute("data-scroll-reset")?!1:!0,horizontal:c.hasAttribute("data-scroll-horizontal")};c.getAttribute("data-indicator-color")&&(q.indicatorColor=c.getAttribute("data-indicator-color"));c.hasAttribute("data-indicator-force")&&
(q.addIndicators=!0);d.forEach(l=>{z(b,c,l,q)})})}});window.HYPE_eventListeners.push({type:"HypeSceneUnload",callback:function(b,a){b=a.id;y.forEach(function(c){c.destroy(!0)});y.length=0;p[b+"_v"]&&(p[b+"_v"].destroy(!0),delete p[b+"_v"]);p[b+"_h"]&&(p[b+"_h"].destroy(!0),delete p[b+"_h"])}});return{version:"1.0.9",setDefault:function(b,a){"object"==typeof b?n=b:n[b]=a},getDefault:function(b){return b?n[b]:n}}}console.error("ScrollMagic is not available.")}());
